<html>
<head>
    <style>


    </style>
</head>

<script src="{{url_for('static', filename='browser.min.js')}}"></script>
<script src="{{url_for('static', filename='jquery.min.js')}}"></script>
<body>



parentNode:<input type="text" name="parentNode" id="parentNode">
title:<input type="text" name="name" id="name">
url :<input type="text" name="url" id="url">
<br>
<button onclick="right_submit()">submit</button>

</body>
<script>
　　 function trim(str){
　　     return str.replace(/(^\s*)|(\s*$)/g, "");
　　 }
　　 function ltrim(str){
　　     return str.replace(/(^\s*)/g,"");
　　 }
　　 function rtrim(str){
　　     return str.replace(/(\s*$)/g,"");
　　 }

    function right_submit(){
        var name = document.getElementById("name").value;
        var url = document.getElementById("url").value;
        var parentNode = document.getElementById("parentNode").value;
        var str_data = `{"parentNode": "${parentNode}","name": "${name}","url":"${url}"}`;
        if(trim(name) != "" && trim(url) != ""){
            htmlobj=$.ajax({url:"addjson?data="+str_data,async:false});
            if(htmlobj.responseText=="success"){
                document.getElementById("name").value = "";
                document.getElementById("url").value = "";
                document.getElementById("parentNode").value = "";
                // use frameset to control another document to reload
                var left=window.parent.window.document.getElementById("left");

                left.contentWindow.document.location.reload();
            }
        }
    }



</script>
</html>

